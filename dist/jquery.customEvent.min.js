!function(a){a.CustomEvent=function(b,c){this._host=b,this.eventType=c,this._callbacks=new a.Callbacks},a.CustomEvent.prototype.fire=function(b,c){var d=new a.Event(this.eventType);return a.extend(d,b),d.data=a.extend({},d.data,b),this._callbacks.fireWith(c||this._host,[d]),d},a.CustomEvent.prototype.add=function(a){a&&this._callbacks.add(a)},a.CustomEvent.prototype.one=function(b){if(b){var c=this,d=a.proxy(function(){try{b.apply(this,arguments)}finally{c.remove(d)}},this);this.add(d)}},a.CustomEvent.prototype.remove=function(a){a&&this._callbacks.remove(a)},a.CustomEvent.create=function(b,c){var d="on"+c,e=new a.CustomEvent(b,c);return b[d]=e,e}}(jQuery);